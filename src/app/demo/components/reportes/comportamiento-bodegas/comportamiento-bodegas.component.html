<p-toast *ngIf="verEncabezado"></p-toast>
<p-confirmDialog *ngIf="verEncabezado" [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
<app-breadcrumb *ngIf="verEncabezado"></app-breadcrumb>

<div class="grid">
	<div class="col-12">
		<div class="card" style=" background-image: url('https://nitrofert.com.co/wp-content/uploads/2023/05/Recurso_17@2x.png'); background-size:cover;">
            <div class="p-fluid p-formgrid grid">
                <div  *ngIf="verEncabezado" class="field col-12 ">
                    <span class="p-float-label">
                        <p-calendar id="rangoFecha" [(ngModel)]="filtroRnagoFechas" selectionMode="range" [readonlyInput]="true" [showIcon]="true" [numberOfMonths]="1"  styleClass="w-full"  (ngModelChange)="cambioFecha($event)"  ></p-calendar>
                        <label for="rangoFecha"><h6>Seleccionar rango de fecha</h6></label>
                    </span>
                </div>
    
                <div class="field col-12 ">
                    <span class="p-float-label">
                        <p-skeleton *ngIf="estados.length==0 " height="2rem" styleClass="mb-2"></p-skeleton>
                        <p-autoComplete id="conductor"
                                    *ngIf="estados.length>0" 
                                    [(ngModel)]="estadoSeleccionado" 
                                    
                                    [suggestions]="estadosFiltradas" 
                                    (completeMethod)="filtrarEstado($event)" 
                                    field="label" 
                                    [dropdown]="true"
                                    (onSelect)="seleccionarEstado()">
                        </p-autoComplete>
                        <label for="rangoFecha"><h6>Estados bodega</h6></label>
                    </span>
                </div>
            </div>
            
            
        </div>
    </div>
</div>


<div  class="grid">
	<div class="col-12">
		<div class="card" style=" background-image: url('https://nitrofert.com.co/wp-content/uploads/2023/05/Recurso_17@2x.png'); background-size:cover;">
            <div  class="text-center mb-3"><h1>Comportamiento Locaciones x estado {{estadoSeleccionado.name}}</h1></div>
                    <div class="p-fluid p-formgrid grid">
                        <div class="field col-12 ">
                            <app-dynamic-table [dataTable]="dataTableComprtamientoBodegas.data" 
                                        [headersTable]="dataTableComprtamientoBodegas.header"
                                        
                                        dataKey="index" 
                                        [rows]="10" 
                                        [rowsPerPageOptions]="[10,50,100]" 
                                        [paginator]="false"
                                        [selectionMode]="'multiple'"
                                        [loading]="loading"
                                        [showBtnExp]="true"
                                        class="min-w-full"
                                        nameExport="rpt_novedades">
                            </app-dynamic-table>
                        </div>  
                    </div>
        </div>
    </div>
</div>
<div *ngIf="dataChart" class="grid">
	<div class="col-12">
		<div class="card" style=" background-image: url('https://nitrofert.com.co/wp-content/uploads/2023/05/Recurso_17@2x.png'); background-size:cover;">
            <div  class="text-center mb-3"><h1>Comportamiento Locaciones x estado {{estadoSeleccionado.name}}</h1></div>
            <div class="p-fluid p-formgrid grid">
                <div class="field col-12 ">
                    <p-chart type="line" [data]="dataChart" [options]="optionsDataChart"></p-chart>
                </div>
            </div>
        </div>
    </div>
</div>



