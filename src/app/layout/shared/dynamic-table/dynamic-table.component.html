<p-table #dt1 
					 [value]="dataTable" 
					 [dataKey]="dataKey" 
					 [rows]="rows" 
					 [rowsPerPageOptions]="!rowsPerPageOptions?[rows]:rowsPerPageOptions"
					 [loading]="loading" 
					 [rowHover]="true" 
					 [styleClass]="'p-datatable-gridlines p-datatable-sm border-1 '" 
					 [paginator]="paginator"
					 [globalFilterFields]="globalFilterFields" 
					 [selectionMode]="selectionMode" 
					 [(selection)]="selectedItem" 
					 responsiveLayout="scroll">
				<ng-template pTemplate="caption">
					<div class="flex justify-content-between flex-column sm:flex-row">
						<div>
							
							<button pButton 
									pTooltip="Limpiar" tooltipPosition="bottom" placeholder="Bottom"  
									class="p-button-outlined mb-2 mr-2 p-button-sm" 
									icon="pi pi-filter-slash"
									(click)="clear(dt1)">
							</button>

                            <button pButton
									*ngIf="showBtnNew" 
									[pTooltip]="toolTipShowBtnNew" tooltipPosition="bottom" placeholder="Bottom"  
									class="p-button-outlined mb-2 mr-2 p-button-success p-button-sm" 
									icon="pi pi-plus"
									
									(click)="newAccion()">
							</button>

							<button pButton
									*ngIf="showBtnEdit" 
									[pTooltip]="toolTipShowBtnEdit" tooltipPosition="bottom" placeholder="Bottom"  
									class="p-button-outlined mb-2 mr-2 p-button-warning p-button-sm" 
									icon="pi pi-pencil"
									[disabled]="selectedItem.length !=1 "
									(click)="editAccion()">
							</button>

							<button pButton
									*ngIf="!showBtnEdit && showBtnView" 
									[pTooltip]="toolTipShowBtnEdit" tooltipPosition="bottom" placeholder="Bottom"  
									class="p-button-outlined mb-2 mr-2 p-button-warning p-button-sm" 
									icon="pi pi-search"
									[disabled]="selectedItem.length !=1 "
									(click)="viewAccion()">
							</button>


							<button pButton
									*ngIf="showBtnDelete" 
									[pTooltip]="toolTipShowBtnDelete" tooltipPosition="bottom" placeholder="Bottom"  
									class="p-button-outlined mb-2 mr-2 p-button-danger p-button-sm" 
									icon="pi pi-trash"
									[disabled]="selectedItem.length ==0 "
									(click)="deleteAccion()">
							</button>
							
							<button pButton
									*ngIf="showBtnExp" 
							        pTooltip="Exportar a excel" tooltipPosition="bottom" placeholder="Bottom"   
							        class="p-button-outlined mb-2 mr-2 p-button-success p-button-sm" 
							        icon="pi pi-file-excel" 
							        (click)="exportExcel()">
							</button>

							<button pButton *ngIf="titleTable" pRipple type="button" [label]="titleTable" class="p-button-text p-button-secondary"></button>
						
						</div>
						<div>
							<span class="p-input-icon-left mb-2">
								<i class="pi pi-search"></i>
								<input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)" placeholder="Buscar por palabra clave" class="w-min p-inputtext-sm"/>
							</span>
						</div>
						

					</div>
				</ng-template>
				<ng-template pTemplate="header">
					<tr>
						<th *ngIf="viewCheckselectedItem || viewCheckAllItem" style="width: 3rem">
                            <p-tableHeaderCheckbox *ngIf="viewCheckAllItem"></p-tableHeaderCheckbox>
                        </th>
						<th *ngFor="let key of objectKeys(headersTable[0])">
							<div class="flex justify-content-between align-items-center">
								<div [style]="'text-align:'+headersTable[0][key].align+';'">
									{{ headersTable[0][key].label }}
								</div>
								
								<p-columnFilter *ngIf="headersTable[0][key].type!=''" [type]="headersTable[0][key].type" 
                                                [field]="headersTable[0][key].field" 
                                                display="menu"
												ngClass="ml-1" 
                                                [placeholder]="'Buscar por '+headersTable[0][key].label"
                                                [currency]="headersTable[0][key].currency">
                                </p-columnFilter>
							</div>
						</th>

						
                        
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-itemData >
					<tr [pSelectableRow]="itemData">
						<td *ngIf="viewCheckselectedItem">
                            <p-tableCheckbox [value]="itemData" [id]="'selectRow'+itemData['index']" ></p-tableCheckbox>
                        </td>
						<td *ngFor="let key of objectKeys(itemData)" [style]="'min-width: '+headersTable[0][key].sizeCol+';'" pEditableColumn>
							

							<div *ngIf="!headersTable[0][key].editable" [style]="'text-align:'+headersTable[0][key].align+';'">
								
								<div *ngIf="headersTable[0][key].type==='text'">
									{{ itemData[key] }} 
								</div>

								<div *ngIf="headersTable[0][key].type==='date'">
									{{ itemData[key] | date }} 
								</div>

								<div *ngIf="headersTable[0][key].type==='number'">
									<span *ngIf="headersTable[0][key].currency && headersTable[0][key].side=='left'">{{headersTable[0][key].currency}}</span>
									{{ itemData[key] | number }} 
									<span *ngIf="headersTable[0][key].currency && headersTable[0][key].side=='rigth'">{{headersTable[0][key].currency}}</span>
								</div>
								<div *ngIf="headersTable[0][key].type==='boolean'">
									<p-inputSwitch 
													[(ngModel)]="itemData[key]"
													(onChange)="changeState(key,itemData[key],itemData['id'])">

									</p-inputSwitch>
								</div>

								<div *ngIf="headersTable[0][key].type==='list'">
									<ul>
										<li *ngFor="let novedad of itemData[key]">{{novedad}}</li>
									</ul>
								</div>

							</div>
							

							<p-cellEditor *ngIf="headersTable[0][key].editable">
								<ng-template pTemplate="input">
									<input pInputText 
											[type]="headersTable[0][key].type" 
											[(ngModel)]="itemData[key]" 
											class="w-full" 
											[style]="'min-width: '+headersTable[0][key].sizeCol+';'+'text-align:'+headersTable[0][key].align+';'"
											(change)="cambioValorCampo(itemData['index'], itemData[key],itemData,key)"
											(keydown.enter)="pressEnter($event,itemData['index'], itemData[key],itemData,key)">
								</ng-template>
								<ng-template pTemplate="output">
									<div [style]="'text-align:'+headersTable[0][key].align+';'">
										{{ itemData[key] }} 
										<span *ngIf="headersTable[0][key].currency && headersTable[0][key].side=='rigth'">{{headersTable[0][key].currency}}</span>

									</div>
								</ng-template>
							</p-cellEditor>
							
						</td>
						
					</tr>
					
				</ng-template>
				<ng-template pTemplate="emptymessage">
					<tr>
						<td [colSpan]="columnsTable"  class="text-center">No se econtraron registros.</td>
					</tr>
				</ng-template>
				<ng-template pTemplate="loadingbody">
					<tr>
						<td [colSpan]="columnsTable" class="text-center">Cargando registros. Por favor espere</td>
					</tr>
				</ng-template>
    		</p-table>